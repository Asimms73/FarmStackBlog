{"ast":null,"code":"import _slicedToArray from\"/Users/austo/Desktop/Creative/Web Development/FarmStackProject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import useFetch from\"./useFetch\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateBlog=function CreateBlog(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var _useFetch=useFetch('http://localhost:8000/api/blog'),blogs=_useFetch.data;var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),submitCount=_useState8[0],setSubmitCount=_useState8[1];var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();setSubmitCount(submitCount+1);var blog={title:title,body:body};if(blogs!==null){var blogIds=Object.keys(blogs).map(function(key){return parseInt(blogs[key].id.split(\"_\")[1]);});var count=blogIds.length;blog.id='user1_'+(count+submitCount);}axios.post('http://localhost:8000/api/blog',blog).then(function(res){console.log(res);if(res.status===200){navigate('/');}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"create\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a New Blog\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Blog title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Blog body:\"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,value:body,onChange:function onChange(e){return setBody(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Blog\"})]})]});};export default CreateBlog;","map":{"version":3,"names":["axios","useState","useFetch","useNavigate","jsx","_jsx","jsxs","_jsxs","CreateBlog","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","body","setBody","_useState5","_useState6","id","setId","_useFetch","blogs","data","_useState7","_useState8","submitCount","setSubmitCount","navigate","handleSubmit","e","preventDefault","blog","blogIds","Object","keys","map","key","parseInt","split","count","length","post","then","res","console","log","status","className","children","onSubmit","type","required","value","onChange","target"],"sources":["/Users/austo/Desktop/Creative/Web Development/FarmStackProject/frontend/src/CreateBlog.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport useFetch from \"./useFetch\";\nimport { useNavigate } from 'react-router-dom';\n\n\n\nconst CreateBlog = () => {\n    const [title, setTitle] = useState('');\n    const [body, setBody] = useState('');\n    const [id, setId] = useState(0);\n    const { data: blogs } =  useFetch('http://localhost:8000/api/blog');\n    const [submitCount, setSubmitCount] = useState(0);\n\n    const navigate = useNavigate();\n\n\n\n    const handleSubmit = (e) =>{\n        e.preventDefault()\n        setSubmitCount(submitCount + 1);\n\n        let blog = {title: title, body: body};\n\n        if (blogs !== null) {\n            const blogIds = Object.keys(blogs).map(key => parseInt(blogs[key].id.split(\"_\")[1]));\n            let count = blogIds.length;\n            blog.id = 'user1_' + (count + submitCount);\n        }\n\n        axios.post('http://localhost:8000/api/blog', blog)\n        .then((res) =>{\n            console.log(res);\n            if(res.status === 200){\n                navigate('/');\n            }\n        })\n    }\n\n    return ( \n         <div className=\"create\">\n            <h2>Add a New Blog</h2>\n            <form onSubmit={handleSubmit}>\n                <label>Blog title:</label>\n                <input\n                    type=\"text\"\n                    required\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                />\n                <label>Blog body:</label>\n                <textarea\n                    required\n                    value={body}\n                    onChange={(e) => setBody(e.target.value)}\n                ></textarea>\n                <button>Add Blog</button>\n            </form>\n        </div>\n        );\n    }\n\nexport default CreateBlog;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}